<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
 <h1>FIND YOUR SCENT</h1>

  <form name="question">
    <div id="Q1"><b>Q1 ä»Šæ—¥ã®æ°—æ¸©ã¯ï¼Ÿ</b></div>
    <input type="radio" name="q0" value="a">æš‘ã„
    <input type="radio" name="q0" value="b">å¯’ã„
    <input type="radio" name="q0" value="c">ã©ã¡ã‚‰ã§ã‚‚ãªã„


    <div id="Q2"><b>Q2 ä»Šæ—¥ã®äºˆå®šã¯ï¼Ÿ</b></div>
    <input type="radio" name="q1" value="a">ä»•äº‹
    <input type="radio" name="q1" value="b">ãŠå‡ºã‹ã‘
    <input type="radio" name="q1" value="c">å®¶ã§ã”ã‚ã”ã‚

    <div id="Q3"><b>Q3 ä»Šæ—¥ã®æ°—åˆ†ã¯ï¼Ÿ</b></div>
    <input type="radio" name="q2" value="a">å…ƒæ°—ã‚’å‡ºã—ãŸã„
    <input type="radio" name="q2" value="b">è½ã¡ç€ããŸã„
    <input type="radio" name="q2" value="c">é›†ä¸­ã—ãŸã„
  </form>

 
  <div id="app">
    <button id=result-button v-on:click="openModal">Click</button>
    <open-modal v-show="showContent" v-on:from-child="closeModal"/>
    <h2>ğŸ¬ğŸ¬è¨ºæ–­çµæœğŸ¬ğŸ¬</h2>
    <p id="result-diagnose"></p>
    </div>
  </div>

      
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<script>

new Vue({
  el:"#app",
  data: {
    showContent : false
  },
  methods:{
    openModal: function(){
      
      // ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã®è¦ç´ ã‚’å–å¾—ã—ã¦æ–‡å­—åˆ—ã«ã™ã‚‹
      const form = document.forms.question;
	      const q0Value = form.q0.value;
	      const q1Value = form.q1.value;
	      const q2Value = form.q2.value;
	      const resultValue = q0Value + q1Value + q2Value;

      // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ä¸­ã®çµæœè¦ç´ ï¼pã‚¿ã‚°ã‚’å–å¾—ã™ã‚‹
      const resultModal = document.getElementById("result-diagnose");

      // resultValueã®çµæœã§è¡¨ç¤ºå†…å®¹ã‚’å¤‰ãˆã‚‹
      if (resultValue === "aaa" || resultValue === "aba"){
        resultModal.innerText = "Diptyque ã‚ªãƒ¼ãƒ­ãƒ¼ã‚º "
      }

      else if (resultValue === "aab" || resultValue === "abc"){
        resultModal.innerText = "Fuegia ã‚¨ãƒ³ãƒ‡ãƒãƒ¼"
      }

      else if (resultValue === "aac"){
        resultModal.innerText = "Guerlain ãƒãƒ¼ãƒ ãƒ•ãƒ¬ã‚¹ã‚«"
      }
  
      else if (resultValue === "abb" ){
        resultModal.innerText = "OFFICINE UNIVERSELLE BULY ãƒ´ã‚¡ãƒ«ãƒ‘ãƒ³ã‚½ãƒ³ã®æµ´å¥³"
      }

      else if (resultValue === "baa" || resultValue === "bac"){
        resultModal.innerText = "canoma æ—©è•¨"
      }

      else if (resultValue.charAt(0) === "b"){
        resultModal.innerText = "L'Orchestre Parfum ãƒ”ã‚¢ãƒã‚µãƒ³ã‚¿ãƒ«"
      }
  
      else {
        resultModal.innerText = "Guerlain ã‚ªãƒ¼ã‚¹ã‚¯ãƒ¬ãƒƒãƒˆ"
      }
       
      this.showContent = true

    },

    closeModal: function(){
      this.showContent = false
    }
  }
})

//openModalã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  Vue.component('openModal',{

    template:`
    <div id="overlay" v-on:click="clickEvent">
      <div id ="content" v-on:click="stopEvent">
        <p><slot></slot></p>
        <button v-on:click="clickEvent">close</button>
      </div>
    </div>
    `,

    methods :{
      clickEvent: function(){
        // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®é€šçŸ¥
        this.$emit('from-child')
      },
      stopEvent: function(){
        event.stopPropagation()
      }
    }

  })

</script>
</body>
</html>